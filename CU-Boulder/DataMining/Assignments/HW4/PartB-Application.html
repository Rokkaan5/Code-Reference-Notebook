<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jasmine Kobayashi">

<title>HW4: Part B - Applications</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="PartB-Application_files/libs/clipboard/clipboard.min.js"></script>
<script src="PartB-Application_files/libs/quarto-html/quarto.js"></script>
<script src="PartB-Application_files/libs/quarto-html/popper.min.js"></script>
<script src="PartB-Application_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PartB-Application_files/libs/quarto-html/anchor.min.js"></script>
<link href="PartB-Application_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PartB-Application_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PartB-Application_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PartB-Application_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PartB-Application_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#question-1" id="toc-question-1" class="nav-link active" data-scroll-target="#question-1">Question 1</a>
  <ul class="collapse">
  <li><a href="#z-score-normalization" id="toc-z-score-normalization" class="nav-link" data-scroll-target="#z-score-normalization">Z-score normalization:</a></li>
  <li><a href="#min-max-normalization" id="toc-min-max-normalization" class="nav-link" data-scroll-target="#min-max-normalization">Min-Max normalization:</a></li>
  <li><a href="#discretization" id="toc-discretization" class="nav-link" data-scroll-target="#discretization">Discretization:</a></li>
  </ul></li>
  <li><a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2">Question 2</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HW4: Part B - Applications</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jasmine Kobayashi </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Note: Your code/analysis should be self-explanatory with necessary comments.</p>
<section id="question-1" class="level1">
<h1>Question 1</h1>
<p><strong>Use the dataset fatalities along with the dataset description</strong></p>
<ul>
<li><strong>Analyze the dataset and identify any missing values, outliers, or other issues.</strong></li>
<li><strong>Normalize the numerical features in the dataset if necessary, by using methods such as min-max normalization or z-score normalization</strong></li>
<li><strong>Discretize any continuous features in the dataset if necessary, by using methods such as equal width binning or equal frequency binning</strong></li>
<li><strong>Fill in any missing values in the dataset, by using methods such as mean imputation, median imputation, or regression imputation (optional)</strong></li>
</ul>
<div class="cell" data-cell_id="fb39227d5f1c4b62acb5623270c2b521" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:34}" data-deepnote_cell_type="code" data-execution_millis="1" data-execution_start="1676691637963" data-source_hash="4d063a27" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>fatal <span class="op">=</span> pd.read_csv(<span class="st">'Fatalities.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-cell_id="90848680b1c04f059958b35a40d38835" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:40}" data-deepnote_cell_type="code" data-execution_millis="1" data-execution_start="1676691637964" data-source_hash="b7b12e0" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fatal.drop(columns <span class="op">=</span> [<span class="st">'Unnamed: 0'</span>],inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-cell_id="ceadec4ef0184524b028c10ae769a8d1" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:46}" data-deepnote_cell_type="code" data-execution_millis="2" data-execution_start="1676691637966" data-source_hash="4135c61" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fatal.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 336 entries, 0 to 335
Data columns (total 34 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   state         336 non-null    object 
 1   year          336 non-null    int64  
 2   spirits       336 non-null    float64
 3   unemp         336 non-null    float64
 4   income        336 non-null    float64
 5   emppop        336 non-null    float64
 6   beertax       336 non-null    float64
 7   baptist       336 non-null    float64
 8   mormon        336 non-null    float64
 9   drinkage      336 non-null    float64
 10  dry           336 non-null    float64
 11  youngdrivers  336 non-null    float64
 12  miles         336 non-null    float64
 13  breath        336 non-null    object 
 14  jail          335 non-null    object 
 15  service       335 non-null    object 
 16  fatal         336 non-null    int64  
 17  nfatal        336 non-null    int64  
 18  sfatal        336 non-null    int64  
 19  fatal1517     336 non-null    int64  
 20  nfatal1517    336 non-null    int64  
 21  fatal1820     336 non-null    int64  
 22  nfatal1820    336 non-null    int64  
 23  fatal2124     336 non-null    int64  
 24  nfatal2124    336 non-null    int64  
 25  afatal        336 non-null    float64
 26  pop           336 non-null    float64
 27  pop1517       336 non-null    float64
 28  pop1820       336 non-null    float64
 29  pop2124       336 non-null    float64
 30  milestot      336 non-null    float64
 31  unempus       336 non-null    float64
 32  emppopus      336 non-null    float64
 33  gsp           336 non-null    float64
dtypes: float64(20), int64(10), object(4)
memory usage: 89.4+ KB</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>So there are no missing values in the ‘fatalities’ dataset</p>
</blockquote>
<div class="cell" data-cell_id="32943f79c03e4bfe8628ce485b3fed28" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:55}" data-deepnote_cell_type="code" data-execution_millis="118" data-execution_start="1676691638010" data-source_hash="529775b6" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>fatal.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">spirits</th>
<th data-quarto-table-cell-role="th">unemp</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">emppop</th>
<th data-quarto-table-cell-role="th">beertax</th>
<th data-quarto-table-cell-role="th">baptist</th>
<th data-quarto-table-cell-role="th">mormon</th>
<th data-quarto-table-cell-role="th">drinkage</th>
<th data-quarto-table-cell-role="th">dry</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">nfatal2124</th>
<th data-quarto-table-cell-role="th">afatal</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">pop1517</th>
<th data-quarto-table-cell-role="th">pop1820</th>
<th data-quarto-table-cell-role="th">pop2124</th>
<th data-quarto-table-cell-role="th">milestot</th>
<th data-quarto-table-cell-role="th">unempus</th>
<th data-quarto-table-cell-role="th">emppopus</th>
<th data-quarto-table-cell-role="th">gsp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>...</td>
<td>336.000000</td>
<td>336.000000</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1985.000000</td>
<td>1.753690</td>
<td>7.346726</td>
<td>13880.184533</td>
<td>60.805676</td>
<td>0.513256</td>
<td>7.156925</td>
<td>2.801933</td>
<td>20.455625</td>
<td>4.267074</td>
<td>...</td>
<td>41.377976</td>
<td>293.333247</td>
<td>4.930272e+06</td>
<td>2.308155e+05</td>
<td>2.490904e+05</td>
<td>3.363899e+05</td>
<td>37101.491151</td>
<td>7.528571</td>
<td>59.971430</td>
<td>0.025313</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>2.002983</td>
<td>0.683575</td>
<td>2.533405</td>
<td>2253.046291</td>
<td>4.721656</td>
<td>0.477844</td>
<td>9.762621</td>
<td>9.665279</td>
<td>0.899025</td>
<td>9.500901</td>
<td>...</td>
<td>42.930315</td>
<td>303.580749</td>
<td>5.073704e+06</td>
<td>2.298963e+05</td>
<td>2.493456e+05</td>
<td>3.453044e+05</td>
<td>37454.365758</td>
<td>1.479376</td>
<td>1.585048</td>
<td>0.043173</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1982.000000</td>
<td>0.790000</td>
<td>2.400000</td>
<td>9513.761719</td>
<td>42.993198</td>
<td>0.043311</td>
<td>0.000000</td>
<td>0.100000</td>
<td>18.000000</td>
<td>0.000000</td>
<td>...</td>
<td>1.000000</td>
<td>24.600000</td>
<td>4.789997e+05</td>
<td>2.100002e+04</td>
<td>2.099996e+04</td>
<td>3.000016e+04</td>
<td>3993.000000</td>
<td>5.500000</td>
<td>57.799999</td>
<td>-0.123641</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1983.000000</td>
<td>1.300000</td>
<td>5.475000</td>
<td>12085.849854</td>
<td>57.691426</td>
<td>0.208849</td>
<td>0.626752</td>
<td>0.272160</td>
<td>20.000000</td>
<td>0.000000</td>
<td>...</td>
<td>13.000000</td>
<td>90.497749</td>
<td>1.545251e+06</td>
<td>7.174993e+04</td>
<td>7.696212e+04</td>
<td>1.035000e+05</td>
<td>11691.500244</td>
<td>6.200000</td>
<td>57.900002</td>
<td>0.001182</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1985.000000</td>
<td>1.670000</td>
<td>7.000000</td>
<td>13763.128906</td>
<td>61.364660</td>
<td>0.352589</td>
<td>1.749250</td>
<td>0.393111</td>
<td>21.000000</td>
<td>0.086812</td>
<td>...</td>
<td>30.000000</td>
<td>211.594002</td>
<td>3.310503e+06</td>
<td>1.630002e+05</td>
<td>1.709823e+05</td>
<td>2.409999e+05</td>
<td>28483.500000</td>
<td>7.200000</td>
<td>60.100002</td>
<td>0.032413</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>1987.000000</td>
<td>2.012500</td>
<td>8.900000</td>
<td>15175.124268</td>
<td>64.412504</td>
<td>0.651573</td>
<td>13.127125</td>
<td>0.629320</td>
<td>21.000000</td>
<td>2.424810</td>
<td>...</td>
<td>49.000000</td>
<td>363.957748</td>
<td>5.751735e+06</td>
<td>2.705002e+05</td>
<td>3.083114e+05</td>
<td>4.130001e+05</td>
<td>44139.750000</td>
<td>9.600000</td>
<td>61.500000</td>
<td>0.056501</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>1988.000000</td>
<td>4.900000</td>
<td>18.000000</td>
<td>22193.455078</td>
<td>71.268654</td>
<td>2.720764</td>
<td>30.355700</td>
<td>65.916496</td>
<td>21.000000</td>
<td>45.792099</td>
<td>...</td>
<td>249.000000</td>
<td>2094.899902</td>
<td>2.831403e+07</td>
<td>1.172000e+06</td>
<td>1.321004e+06</td>
<td>1.892998e+06</td>
<td>241575.015625</td>
<td>9.700000</td>
<td>62.300003</td>
<td>0.142361</td>
</tr>
</tbody>
</table>

<p>8 rows × 30 columns</p>
</div>
</div>
</div>
<div class="cell" data-cell_id="209209dce249460c9d7d1286b38e3232" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:118}" data-deepnote_cell_type="code" data-execution_millis="6" data-execution_start="1676691638178" data-source_hash="1fd6a2d3" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fatal.year.value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>1982    48
1983    48
1984    48
1985    48
1986    48
1987    48
1988    48
Name: year, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-cell_id="a487a9ce31474e12b122b2eead7af948" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:61}" data-deepnote_cell_type="code" data-execution_millis="843" data-execution_start="1676691638180" data-source_hash="c093b227" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler     <span class="co"># z-score normalization</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Given the information provided by the fatalities dataset description sheet, I think the following columns can potentially benefit the most from the following transformations:</p>
<section id="z-score-normalization" class="level2">
<h2 class="anchored" data-anchor-id="z-score-normalization">Z-score normalization:</h2>
<ul>
<li><p><code>unemp</code>: Unemployment rate</p></li>
<li><p><code>income</code>: Per capita personal income in 1987 dollars</p></li>
<li><p><code>emppop</code>: Employment/population ratio</p></li>
</ul>
</section>
<section id="min-max-normalization" class="level2">
<h2 class="anchored" data-anchor-id="min-max-normalization">Min-Max normalization:</h2>
<p>fatality-related columns: <code>['fatal', 'nfatal', 'sfatal', 'fatal1517', 'nfatal1517', 'fatal1820', 'nfatal1820', 'fatal2124', 'nfatal2124', 'afatal']</code></p>
<p>population-related columns: <code>['pop', 'pop1517', 'pop1820', 'pop2124']</code></p>
</section>
<section id="discretization" class="level2">
<h2 class="anchored" data-anchor-id="discretization">Discretization:</h2>
<p><code>State</code>: could be discretized to certain regions of the US (west-coast, east-coast, etc.)</p>
<p><code>drinkage</code>: (Minimum legal drinking age) could be discretized to above, below or at 21 years old</p>
<div class="cell" data-cell_id="4bceba2d385344c39d60968915d16b04" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:127}" data-deepnote_cell_type="code" data-execution_millis="28" data-execution_start="1676691639033" data-source_hash="1f433ea" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># z-score scaling </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>z_col <span class="op">=</span> [<span class="st">'unemp'</span>,<span class="st">'income'</span>,<span class="st">'emppop'</span>,<span class="st">'unempus'</span>,<span class="st">'emppopus'</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>z_df <span class="op">=</span> fatal[z_col]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>zscale <span class="op">=</span> StandardScaler()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>fatal_zscale<span class="op">=</span>pd.DataFrame(zscale.fit_transform(z_df),columns<span class="op">=</span>z_df.columns)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>fatal_zscale.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">unemp</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">emppop</th>
<th data-quarto-table-cell-role="th">unempus</th>
<th data-quarto-table-cell-role="th">emppopus</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
<td>3.360000e+02</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>-2.167578e-16</td>
<td>-2.061843e-16</td>
<td>3.383537e-16</td>
<td>3.515706e-16</td>
<td>6.378496e-15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>1.001491e+00</td>
<td>1.001491e+00</td>
<td>1.001491e+00</td>
<td>1.001491e+00</td>
<td>1.001491e+00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-1.955512e+00</td>
<td>-1.940899e+00</td>
<td>-3.778133e+00</td>
<td>-1.373279e+00</td>
<td>-1.371990e+00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>-7.399204e-01</td>
<td>-7.975916e-01</td>
<td>-6.605509e-01</td>
<td>-8.994013e-01</td>
<td>-1.308805e+00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>-1.370659e-01</td>
<td>-5.203187e-02</td>
<td>1.185640e-01</td>
<td>-2.224327e-01</td>
<td>8.123663e-02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>6.140314e-01</td>
<td>5.756078e-01</td>
<td>7.650299e-01</td>
<td>1.402292e+00</td>
<td>9.658066e-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>4.211393e+00</td>
<td>3.695294e+00</td>
<td>2.219260e+00</td>
<td>1.469989e+00</td>
<td>1.471278e+00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="83a6ebbd58b34216a99af903018115ed" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:133}" data-deepnote_cell_type="code" data-execution_millis="4" data-execution_start="1676691639105" data-source_hash="514199a4" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># min-max scaling of fatality counts</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>f_col <span class="op">=</span> [<span class="st">'fatal'</span>, <span class="st">'nfatal'</span>, <span class="st">'sfatal'</span>, <span class="st">'fatal1517'</span>, <span class="st">'nfatal1517'</span>, <span class="st">'fatal1820'</span>, <span class="st">'nfatal1820'</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'fatal2124'</span>, <span class="st">'nfatal2124'</span>, <span class="st">'afatal'</span>]</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>mm_df <span class="op">=</span> fatal[f_col]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>mm_scale <span class="op">=</span> MinMaxScaler()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>fatal_mm_scale <span class="op">=</span> pd.DataFrame(mm_scale.fit_transform(mm_df),columns<span class="op">=</span>mm_df.columns)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>fatal_mm_scale.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fatal</th>
<th data-quarto-table-cell-role="th">nfatal</th>
<th data-quarto-table-cell-role="th">sfatal</th>
<th data-quarto-table-cell-role="th">fatal1517</th>
<th data-quarto-table-cell-role="th">nfatal1517</th>
<th data-quarto-table-cell-role="th">fatal1820</th>
<th data-quarto-table-cell-role="th">nfatal1820</th>
<th data-quarto-table-cell-role="th">fatal2124</th>
<th data-quarto-table-cell-role="th">nfatal2124</th>
<th data-quarto-table-cell-role="th">afatal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>0.156620</td>
<td>0.163690</td>
<td>0.171344</td>
<td>0.189238</td>
<td>0.161341</td>
<td>0.167779</td>
<td>0.171055</td>
<td>0.151546</td>
<td>0.162814</td>
<td>0.129804</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.172175</td>
<td>0.181883</td>
<td>0.182420</td>
<td>0.176918</td>
<td>0.161229</td>
<td>0.175461</td>
<td>0.169583</td>
<td>0.173864</td>
<td>0.173106</td>
<td>0.146636</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>0.039585</td>
<td>0.039334</td>
<td>0.045378</td>
<td>0.072222</td>
<td>0.052632</td>
<td>0.052189</td>
<td>0.056122</td>
<td>0.039578</td>
<td>0.048387</td>
<td>0.031830</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>0.114654</td>
<td>0.117761</td>
<td>0.122689</td>
<td>0.146032</td>
<td>0.131579</td>
<td>0.126263</td>
<td>0.122449</td>
<td>0.112797</td>
<td>0.116935</td>
<td>0.090322</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>0.181475</td>
<td>0.192085</td>
<td>0.206723</td>
<td>0.234921</td>
<td>0.200658</td>
<td>0.207492</td>
<td>0.224490</td>
<td>0.182718</td>
<td>0.193548</td>
<td>0.163917</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="601cdb87b1124311a4ce06a67fc21412" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:79}" data-deepnote_cell_type="code" data-execution_millis="2" data-execution_start="1676691639138" data-source_hash="5a6c0713" data-tags="[]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># min-max scaling of population counts</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>pop_col <span class="op">=</span> [<span class="st">'pop'</span>, <span class="st">'pop1517'</span>, <span class="st">'pop1820'</span>, <span class="st">'pop2124'</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>mm_df2 <span class="op">=</span> fatal[pop_col]</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>mm_scale <span class="op">=</span> MinMaxScaler()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>fatal_mm_scale2 <span class="op">=</span> pd.DataFrame(mm_scale.fit_transform(mm_df2),columns<span class="op">=</span>mm_df2.columns)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>fatal_mm_scale2.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">pop1517</th>
<th data-quarto-table-cell-role="th">pop1820</th>
<th data-quarto-table-cell-role="th">pop2124</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
<td>336.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>0.159916</td>
<td>0.182290</td>
<td>0.175454</td>
<td>0.164461</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.182278</td>
<td>0.199736</td>
<td>0.191804</td>
<td>0.185349</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>0.038306</td>
<td>0.044092</td>
<td>0.043048</td>
<td>0.039452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>0.101724</td>
<td>0.123371</td>
<td>0.115371</td>
<td>0.113258</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>0.189428</td>
<td>0.216768</td>
<td>0.221008</td>
<td>0.205583</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="471a29e25eb3408a942b8c7ffd89192d" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:145}" data-deepnote_cell_type="code" data-execution_millis="22" data-execution_start="1676691639142" data-source_hash="b818a989" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fatal.state.value_counts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>&lt;bound method IndexOpsMixin.value_counts of 0      al
1      al
2      al
3      al
4      al
       ..
331    wy
332    wy
333    wy
334    wy
335    wy
Name: state, Length: 336, dtype: object&gt;</code></pre>
</div>
</div>
<div class="cell" data-cell_id="43905c519b3e444e8b5d24b40a5ceeb7" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:139}" data-deepnote_cell_type="code" data-execution_millis="2" data-execution_start="1676691639172" data-source_hash="fc3f363f" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># discretization (attempt 1: states =&gt; regions)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>west <span class="op">=</span> [<span class="st">'ak'</span>,<span class="st">'wa'</span>,<span class="st">'or'</span>,<span class="st">'ca'</span>,<span class="st">'nv'</span>,<span class="st">'id'</span>,<span class="st">'ut'</span>,<span class="st">'az'</span>,<span class="st">'mt'</span>,<span class="st">'wy'</span>,<span class="st">'co'</span>,<span class="st">'nm'</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>midwest <span class="op">=</span> [<span class="st">'nd'</span>,<span class="st">'sd'</span>,<span class="st">'ne'</span>,<span class="st">'ks'</span>,<span class="st">'mn'</span>,<span class="st">'ia'</span>,<span class="st">'mo'</span>,<span class="st">'wi'</span>,<span class="st">'il'</span>,<span class="st">'in'</span>,<span class="st">'mi'</span>,<span class="st">'oh'</span>]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>south <span class="op">=</span> [<span class="st">'tx'</span>,<span class="st">'ok'</span>,<span class="st">'ar'</span>,<span class="st">'la'</span>,<span class="st">'ms'</span>,<span class="st">'ky'</span>,<span class="st">'tn'</span>,<span class="st">'al'</span>,<span class="st">'ga'</span>,<span class="st">'fl'</span>,<span class="st">'wv'</span>,<span class="st">'md'</span>,<span class="st">'va'</span>,<span class="st">'nc'</span>,<span class="st">'sc'</span>,<span class="st">'de'</span>]</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>northeast <span class="op">=</span> [<span class="st">'pa'</span>,<span class="st">'ny'</span>,<span class="st">'nj'</span>,<span class="st">'vt'</span>,<span class="st">'nh'</span>,<span class="st">'ma'</span>,<span class="st">'ct'</span>,<span class="st">'ri'</span>,<span class="st">'me'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-cell_id="1bf7e24f00e64f3591e20a646fb87a82" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:151}" data-deepnote_cell_type="code" data-execution_millis="1162" data-execution_start="1676691639342" data-source_hash="1f25c177" data-tags="[]" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>conditions <span class="op">=</span> [<span class="bu">any</span>(fatal[<span class="st">'state'</span>] <span class="kw">in</span> west), </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>            <span class="bu">any</span>(fatal[<span class="st">'state'</span>] <span class="kw">in</span> midwest),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">any</span>(fatal[<span class="st">'state'</span>] <span class="kw">in</span> south),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>            <span class="bu">any</span>(fatal[<span class="st">'state'</span>] <span class="kw">in</span> northeast)]</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>regions <span class="op">=</span> [<span class="st">'west coast'</span>,<span class="st">'midwest'</span>,<span class="st">'south'</span>,<span class="st">'east coast'</span>]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>fatal[<span class="st">'region'</span>] <span class="op">=</span> np.select(conditions,regions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code></pre>
</div>
</div>
<p>I can’t seem to get the process of discretizing the state regions to work.</p>
<div class="cell" data-cell_id="14dc4a8a48e343abb2aea9ec14ca617f" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:175}" data-deepnote_cell_type="code" data-execution_start="1676691658266" data-source_hash="12357bf4" data-tags="[]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># discretization attempt 2</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>conditions <span class="op">=</span> [(fatal[<span class="st">'drinkage'</span>] <span class="op">==</span> <span class="dv">21</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>            (fatal[<span class="st">'drinkage'</span>] <span class="op">&lt;</span> <span class="dv">21</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            (fatal[<span class="st">'drinkage'</span>] <span class="op">&gt;</span> <span class="dv">21</span>)]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="st">'same'</span>,<span class="st">'below'</span>,<span class="st">'above'</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>fatal[<span class="st">'drinkagerange'</span>] <span class="op">=</span> np.select(conditions,values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-cell_id="9bc9d18ad45e440ba2c04ae9d32ea0d5" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:181}" data-deepnote_cell_type="code" data-execution_millis="23" data-execution_start="1676691672098" data-source_hash="fb5e608b" data-tags="[]" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fatal.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">spirits</th>
<th data-quarto-table-cell-role="th">unemp</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">emppop</th>
<th data-quarto-table-cell-role="th">beertax</th>
<th data-quarto-table-cell-role="th">baptist</th>
<th data-quarto-table-cell-role="th">mormon</th>
<th data-quarto-table-cell-role="th">drinkage</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">afatal</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">pop1517</th>
<th data-quarto-table-cell-role="th">pop1820</th>
<th data-quarto-table-cell-role="th">pop2124</th>
<th data-quarto-table-cell-role="th">milestot</th>
<th data-quarto-table-cell-role="th">unempus</th>
<th data-quarto-table-cell-role="th">emppopus</th>
<th data-quarto-table-cell-role="th">gsp</th>
<th data-quarto-table-cell-role="th">drinkagerange</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>al</td>
<td>1982</td>
<td>1.37</td>
<td>14.4</td>
<td>10544.152344</td>
<td>50.692039</td>
<td>1.539379</td>
<td>30.355700</td>
<td>0.32829</td>
<td>19.00</td>
<td>...</td>
<td>309.437988</td>
<td>3942002.25</td>
<td>208999.593750</td>
<td>221553.43750</td>
<td>290000.06250</td>
<td>28516.0</td>
<td>9.7</td>
<td>57.799999</td>
<td>-0.022125</td>
<td>below</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>al</td>
<td>1983</td>
<td>1.36</td>
<td>13.7</td>
<td>10732.797852</td>
<td>52.147030</td>
<td>1.788991</td>
<td>30.333599</td>
<td>0.34341</td>
<td>19.00</td>
<td>...</td>
<td>341.834015</td>
<td>3960008.00</td>
<td>202000.078125</td>
<td>219125.46875</td>
<td>290000.15625</td>
<td>31032.0</td>
<td>9.6</td>
<td>57.900002</td>
<td>0.046558</td>
<td>below</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>al</td>
<td>1984</td>
<td>1.32</td>
<td>11.1</td>
<td>11108.791016</td>
<td>54.168087</td>
<td>1.714286</td>
<td>30.311501</td>
<td>0.35924</td>
<td>19.00</td>
<td>...</td>
<td>304.872009</td>
<td>3988991.75</td>
<td>196999.968750</td>
<td>216724.09375</td>
<td>288000.15625</td>
<td>32961.0</td>
<td>7.5</td>
<td>59.500004</td>
<td>0.062798</td>
<td>below</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>al</td>
<td>1985</td>
<td>1.28</td>
<td>8.9</td>
<td>11332.626953</td>
<td>55.271137</td>
<td>1.652542</td>
<td>30.289499</td>
<td>0.37579</td>
<td>19.67</td>
<td>...</td>
<td>276.742004</td>
<td>4021007.75</td>
<td>194999.734375</td>
<td>214349.03125</td>
<td>284000.31250</td>
<td>35091.0</td>
<td>7.2</td>
<td>60.100002</td>
<td>0.027490</td>
<td>below</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>al</td>
<td>1986</td>
<td>1.23</td>
<td>9.8</td>
<td>11661.506836</td>
<td>56.514496</td>
<td>1.609907</td>
<td>30.267401</td>
<td>0.39311</td>
<td>21.00</td>
<td>...</td>
<td>360.716003</td>
<td>4049993.75</td>
<td>203999.890625</td>
<td>212000.00000</td>
<td>263000.28125</td>
<td>36259.0</td>
<td>7.0</td>
<td>60.700001</td>
<td>0.032143</td>
<td>same</td>
</tr>
</tbody>
</table>

<p>5 rows × 35 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<p><strong>You have collected the data for assisting students in job seeking (Assignment 01, Part B, Prompt 1) and understood the data as part of the Assignment. Apply the data preprocessing steps above again, when necessary. If you are not happy with this dataset, you can use the titanic dataset in seaborn’s built-in datasets.</strong></p>
<div class="cell" data-cell_id="8951e34cbe8e4fb8837632f67ca8886b" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:163}" data-deepnote_cell_type="code" data-execution_millis="103" data-execution_start="1676692268046" data-source_hash="a288283f" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>jobs_df <span class="op">=</span> pd.read_csv(<span class="st">'JasmineKobayashiA02Positions.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-cell_id="e58525e6d17449b080bcd4466210960c" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:169}" data-deepnote_cell_type="code" data-execution_millis="2" data-execution_start="1676692268199" data-source_hash="5d6213da" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>jobs_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 5519 entries, 0 to 5518
Data columns (total 18 columns):
 #   Column                         Non-Null Count  Dtype  
---  ------                         --------------  -----  
 0   Agency                         5519 non-null   object 
 1   # Of Positions                 5519 non-null   int64  
 2   Business Title                 5519 non-null   object 
 3   Civil Service Title            5519 non-null   object 
 4   Title Classification           5519 non-null   object 
 5   Job Category                   5517 non-null   object 
 6   Full-Time/Part-Time indicator  5293 non-null   object 
 7   Career Level                   5517 non-null   object 
 8   Salary Range From              5519 non-null   float64
 9   Salary Range To                5519 non-null   float64
 10  Salary Frequency               5519 non-null   object 
 11  Work Location                  5519 non-null   object 
 12  Job Description                5519 non-null   object 
 13  Minimum Qual Requirements      5461 non-null   object 
 14  Hours/Shift                    1953 non-null   object 
 15  Residency Requirement          5519 non-null   object 
 16  Posting Date                   5519 non-null   object 
 17  Post Until                     1687 non-null   object 
dtypes: float64(2), int64(1), object(15)
memory usage: 776.2+ KB</code></pre>
</div>
</div>
<p>(There are no missing numeric values to fill in.)</p>
<div class="cell" data-cell_id="97e986c3da094f8084cb511d5928e636" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:196}" data-deepnote_cell_type="code" data-execution_millis="27" data-execution_start="1676692407191" data-source_hash="f49b8150" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>jobs_df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"># Of Positions</th>
<th data-quarto-table-cell-role="th">Salary Range From</th>
<th data-quarto-table-cell-role="th">Salary Range To</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>5519.000000</td>
<td>5519.000000</td>
<td>5519.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>2.389745</td>
<td>62416.435424</td>
<td>86458.164859</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>9.425204</td>
<td>29937.884060</td>
<td>43808.087740</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1.000000</td>
<td>0.000000</td>
<td>15.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1.000000</td>
<td>50000.000000</td>
<td>62215.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1.000000</td>
<td>60171.000000</td>
<td>83399.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>1.000000</td>
<td>75504.000000</td>
<td>109990.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>250.000000</td>
<td>250000.000000</td>
<td>265000.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="3e5305b407724fbe87dd1fc0f591194c" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:190}" data-deepnote_cell_type="code" data-execution_millis="25" data-execution_start="1676692601872" data-source_hash="8e2bbc13" data-tags="[]" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># z-score normalization</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>sal_col <span class="op">=</span> [<span class="st">'Salary Range From'</span>,<span class="st">'Salary Range To'</span>]</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>salaries <span class="op">=</span> jobs_df[sal_col]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>zscale <span class="op">=</span> StandardScaler()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>sal_znorm<span class="op">=</span>pd.DataFrame(zscale.fit_transform(salaries),columns<span class="op">=</span>salaries.columns)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>sal_znorm.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Salary Range From</th>
<th data-quarto-table-cell-role="th">Salary Range To</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>5.519000e+03</td>
<td>5.519000e+03</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1.132955e-16</td>
<td>-4.377324e-17</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>1.000091e+00</td>
<td>1.000091e+00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-2.085054e+00</td>
<td>-1.973403e+00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>-4.147775e-01</td>
<td>-5.534449e-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>-7.500994e-02</td>
<td>-6.983738e-02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>4.371969e-01</td>
<td>5.372060e-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>6.266327e+00</td>
<td>4.075914e+00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="2fc3ae97d7e246f8856ce48a0d609dec" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:202}" data-deepnote_cell_type="code" data-execution_millis="2" data-execution_start="1676692687230" data-source_hash="dcc6adfb" data-tags="[]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># min-max normalization</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>mm_scale <span class="op">=</span> MinMaxScaler()</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>sal_mm <span class="op">=</span> pd.DataFrame(mm_scale.fit_transform(salaries),columns<span class="op">=</span>salaries.columns)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>sal_mm.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Salary Range From</th>
<th data-quarto-table-cell-role="th">Salary Range To</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>5519.000000</td>
<td>5519.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>0.249666</td>
<td>0.326219</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.119752</td>
<td>0.165323</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>0.200000</td>
<td>0.234730</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>0.240684</td>
<td>0.314674</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>0.302016</td>
<td>0.415023</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-cell_id="fbd549f74c484e25b8b8e60ef598e543" data-deepnote_app_coordinates="{&quot;h&quot;:5,&quot;w&quot;:12,&quot;x&quot;:0,&quot;y&quot;:211}" data-deepnote_cell_type="code" data-execution_millis="12" data-execution_start="1676693132097" data-source_hash="72281d6e" data-tags="[]" data-execution_count="24">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>jobs_df[<span class="st">'Job Category'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>Engineering, Architecture, &amp; Planning                                                                                                                                                             682
Technology, Data &amp; Innovation                                                                                                                                                                     474
Legal Affairs                                                                                                                                                                                     444
Building Operations &amp; Maintenance                                                                                                                                                                 304
Finance, Accounting, &amp; Procurement                                                                                                                                                                296
                                                                                                                                                                                                 ... 
Constituent Services &amp; Community Programs Technology, Data &amp; Innovation Social Services                                                                                                             1
Administration &amp; Human Resources Building Operations &amp; Maintenance Public Safety, Inspections, &amp; Enforcement                                                                                        1
Administration &amp; Human Resources Policy, Research &amp; Analysis Public Safety, Inspections, &amp; Enforcement Social Services                                                                              1
Administration &amp; Human Resources Communications &amp; Intergovernmental Affairs Engineering, Architecture, &amp; Planning Health Policy, Research &amp; Analysis Public Safety, Inspections, &amp; Enforcement      1
Constituent Services &amp; Community Programs Engineering, Architecture, &amp; Planning Public Safety, Inspections, &amp; Enforcement                                                                           1
Name: Job Category, Length: 190, dtype: int64</code></pre>
</div>
</div>
<p>If I figured out how to do it correctly but it would also be interesting to discretize the job categories since they seem to be particularly specific (and some have typos and some list multiple). (But I haven’t been able to figure out how to accomplish that within the time working on this assignment).</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>